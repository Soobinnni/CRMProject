<!DOCTYPE html5>
<html>
    <head>
        <title>가게 선택</title>
    </head>
    <style>
        table td {
            padding : 8px;
        }
        img {
            padding : 8px;
        }
        button.btn:not(:last-child) {
            margin-right : 10px;
        }
        .tab-pane {
            margin-top: 10px;
        }
        .card-body:hover {
            background-color: green;
            color : white;
            cursor: pointer;
        }
    </style>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <body>
        <h1>메뉴 선택</h1>
        <div class="dropdown">
            <a class="btn btn-success dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                메뉴
            </a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="{{ url_for('order.item_select', store_id = store_id) }}">전체</a></li>
                {% for type in item_type_list %}
                    <li><a class="dropdown-item" href="{{ url_for('order.item_select', store_id = store_id, item_type = type) }}">{{type}}</a></li>
                {% endfor %}
            </ul>
        </div>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="type-tab-pane" role="tabpanel" aria-labelledby="type-tab" tabindex="0">
                <nav class="navbar"><!-- <nav class="navbar bg-light"> -->
                    <form class="container-fluid justify-content-start">
                        
                    </form>
                </nav>
            </div>
        </div>
        <div class="row row-cols-1 row-cols-md-4 g-4" style="width: 1050px;">
                    {% for item in items %}
                    <div class="col">
                            <div class="card text-center border-secondary mb-3" style="width: 15rem;">
                                <div class="card-body">
                                    {% if item['type'] == 'Cake' %}
                                        <p style="font-size: 2em;">&#127856;</p>
                                    {% elif item['type'] == 'Coffee' %}
                                        <p style="font-size: 2em;">&#9749;</p>
                                    {% elif item['type'] == 'Juice' %}
                                        <p style="font-size: 2em;">&#129475;</p>
                                    {% endif %}
                                    <h5 class="card-title">{{item['name']}}</h5>
                                    <h6 class="card-subtitle mb-2 text-muted">{{item['unit_price']}}</h6>
                                </div>
                            </div>
                    </div>        
                    {% endfor %}
                </div>
                <nav aria-label="Page navigation example">
                    <ul class="pagination">
                    {% if page_list  %}
                        {% if page_list[0] == 1 %}
                            <li class="page-item disabled">
                                <a class="page-link">Previous</a>
                            </li>
                        {% else %}
                        {% set pre_page_num = page_list[0]-3 %}                        				
                        <li class="page-item">
                            <a class="page-link" href="{{ url_for('order.item_select', store_id = store_id, page_num=pre_page_num, item_type = item_type) }}" aria-label="Previous">
                                <span aria-hidden="true">Previous</span>
                            </a>
                        </li>
                        {% endif %}
                        {% for page in page_list %}
                            <li class="page-item"><a class="page-link" href="{{ url_for('order.item_select', store_id = store_id, page_num=page, item_type = item_type ) }}">{{page}}</a></li>
                        {% endfor %}
                        {% set page_length = page_list | length %}
                        {% set page_index = page_length-1 %}
                        {% set next_page_num = page_list[page_index]+1 %}
                        {% if page_list[page_index] == total_page %}
                            <li class="page-item disabled">
                                <a class="page-link" href="" aria-label="Next">
                                    <span aria-hidden="true">NEXT</span>
                                </a>
                            </li>
                        {% else %}
                            <li class="page-item">
                                <a class="page-link" href="{{ url_for('order.item_select', store_id = store_id, page_num=next_page_num, item_type = item_type) }}" aria-label="Next">
                                    <span aria-hidden="true">NEXT</span>
                                </a>
                            </li>
                        {% endif %}
                {% endif %}
                </ul>
            </nav>
    </body>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</html>